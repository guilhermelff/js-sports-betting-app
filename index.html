<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Palpiteiro</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="style.css">

</head>

<body>

    <div w3-include-html="nav-top.html" class="sticky-top"></div>
    <div w3-include-html="alert-element.html"></div>




    <section class="">
        <div class="container py-5" id="jogos">
            <div class="row d-flex justify-content-center align-items-center">
                <div class="col-sm-12 col-md-8 col-lg-6 col-xl-6">
                    <div class="text-white text-center">
                        <h4 class="mb-2" id="titulo">Mercado Aberto - Rodada 7</h4>
                    </div>

                    <div class="card" style="border-radius: 1rem;" id="card">

                        <div class="card-body mt-4">


                            <div class="row">
                                <div class=" mb-4">
                                    <div class="container">
                                        <div class="row">
                                            <div class="">
                                                <div class="card">

                                                    <div class="card-body" id="card-jogo">
                                                        <div class="d-flex justify-content-between px-1">
                                                            <img src="escudos/logo-barcelona-256.png"
                                                                class="card-img-top" alt="Imagem do Jogo"
                                                                id="logo-time">

                                                            <h1 class="py-4 text-white-50">x</h1>

                                                            <img src="escudos/logo-real-madrid-escudo-256.png"
                                                                class="card-img-top" alt="Imagem do Jogo"
                                                                id="logo-time">

                                                        </div>

                                                        <h5 class="card-title mt-1 text-white-50">Barcelona x Real
                                                            Madrid</h5>
                                                        <p class="card-text text-white-50">17/05 - La Liga - Camp Nou
                                                        </p>
                                                        <div class="d-flex justify-content-between gap-1">

                                                            <button type="button"
                                                                class="btn btn-selection botao-card text-white-50"
                                                                data-jogo="Barcelona x Real Madrid"
                                                                data-selection="Casa" data-pontuacao="5">



                                                                <div id="botao-jogo">
                                                                    <div class="d-flex justify-content-center">
                                                                        Casa
                                                                    </div>

                                                                    <div class="d-flex justify-content-center">
                                                                        5
                                                                    </div>
                                                                </div>
                                                            </button>

                                                            <button type="button"
                                                                class="btn btn-selection botao-card text-white-50"
                                                                data-jogo="Barcelona x Real Madrid"
                                                                data-selection="Empate" data-pontuacao="3">


                                                                <div id="botao-jogo">
                                                                    <div class="d-flex justify-content-center">
                                                                        Empate
                                                                    </div>

                                                                    <div class="d-flex justify-content-center">
                                                                        3
                                                                    </div>
                                                                </div>
                                                            </button>

                                                            <button type="button"
                                                                class="btn btn-selection botao-card text-white-50"
                                                                data-jogo="Barcelona x Real Madrid"
                                                                data-selection="Fora" data-pontuacao="5">


                                                                <div id="botao-jogo">
                                                                    <div class="d-flex justify-content-center">
                                                                        Fora
                                                                    </div>

                                                                    <div class="d-flex justify-content-center">
                                                                        5
                                                                    </div>
                                                                </div>
                                                            </button>

                                                        </div>

                                                        <div class="d-flex justify-content-between">

                                                            <div class=" mt-3">
                                                                <span class="card-text text-white-50 px-1 d-flex"
                                                                    id="select-jogador-label">Gol
                                                                </span>
                                                                <select id="select-jogador-1"
                                                                    class="form-select text-white-50">
                                                                    <option class="btn-selection"
                                                                        data-jogo="Barcelona x Real Madrid"
                                                                        data-selection="vazio" data-pontuacao="0">
                                                                        Jogador</option>
                                                                    <optgroup label="Time 1">
                                                                        <option class="btn-selection"
                                                                            data-jogo="Barcelona x Real Madrid"
                                                                            data-selection="Gol - Jogador 1 - Time 1"
                                                                            data-pontuacao="4">Jogador 1 - Time 1
                                                                        </option>
                                                                        <option class="btn-selection"
                                                                            data-jogo="Barcelona x Real Madrid"
                                                                            data-selection="Gol - Jogador 2 - Time 1"
                                                                            data-pontuacao="3">Jogador 2 - Time 1
                                                                        </option>
                                                                    </optgroup>
                                                                    <optgroup label="Time 2">
                                                                        <option class="btn-selection"
                                                                            data-jogo="Barcelona x Real Madrid"
                                                                            data-selection="Gol - Jogador 1 - Time 2"
                                                                            data-pontuacao="4">Jogador 1 - Time 2
                                                                        </option>
                                                                        <option class="btn-selection"
                                                                            data-jogo="Barcelona x Real Madrid"
                                                                            data-selection="Gol - Jogador 2 - Time 2"
                                                                            data-pontuacao="3">Jogador 2 - Time 2
                                                                        </option>
                                                                    </optgroup>
                                                                </select>
                                                            </div>


                                                            <div class=" mt-3">
                                                                <div class="d-flex justify-content-between">
                                                                    <div></div>
                                                                    <span class="card-text text-white-50 px-1"
                                                                        id="select-jogador-label">Cartão
                                                                    </span>
                                                                </div>
                                                                <select id="select-jogador-2"
                                                                    class="form-select text-white-50">
                                                                    <option class="btn-selection"
                                                                        data-jogo="Barcelona x Real Madrid"
                                                                        data-selection="vazio" data-pontuacao="0">
                                                                        Jogador</option>
                                                                    <optgroup label="Time 1">
                                                                        <option data-jogo="Barcelona x Real Madrid"
                                                                            data-selection="Cartão - Jogador 1 - Time 1"
                                                                            data-pontuacao="4">
                                                                            Jogador 1 - Time 1
                                                                        </option>
                                                                        <option data-jogo="Barcelona x Real Madrid"
                                                                            data-selection="Cartão - Jogador 2 - Time 1"
                                                                            data-pontuacao="3">
                                                                            Jogador 2 - Time 1
                                                                        </option>
                                                                    </optgroup>

                                                                    <optgroup label="Time 2">
                                                                        <option data-jogo="Barcelona x Real Madrid"
                                                                            data-selection="Cartão - Jogador 1 - Time 2"
                                                                            data-pontuacao="4">
                                                                            Jogador 1 - Time 2
                                                                        </option>
                                                                        <option data-jogo="Barcelona x Real Madrid"
                                                                            data-selection="Cartão - Jogador 2 - Time 2"
                                                                            data-pontuacao="3">
                                                                            Jogador 2 - Time 2
                                                                        </option>
                                                                    </optgroup>
                                                                </select>
                                                            </div>





                                                        </div>


                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class=" mb-4">
                                    <div class="container">
                                        <div class="row">
                                            <div class="">
                                                <div class="card">

                                                    <div class="card-body" id="card-jogo">
                                                        <div class="d-flex justify-content-between px-1">
                                                            <img src="escudos/football-club-internazionale-milano-256.png"
                                                                class="card-img-top" alt="Imagem do Jogo"
                                                                id="logo-time">

                                                            <h1 class="py-4 text-white-50">x</h1>

                                                            <img src="escudos/associazione-calcio-milan-256.png"
                                                                class="card-img-top" alt="Imagem do Jogo"
                                                                id="logo-time">

                                                        </div>

                                                        <h5 class="card-title mt-1 text-white-50">Inter x Milan</h5>
                                                        <p class="card-text text-white-50">17/05 - Serie A - San Siro
                                                        </p>
                                                        <div class="d-flex justify-content-between gap-1">
                                                            <button type="button"
                                                                class="btn btn-selection botao-card text-white-50"
                                                                data-jogo="Inter x Milan" data-selection="Casa"
                                                                data-pontuacao="5">

                                                                <div id="botao-jogo">
                                                                    <div class="d-flex justify-content-center">
                                                                        Casa
                                                                    </div>

                                                                    <div class="d-flex justify-content-center">
                                                                        5
                                                                    </div>
                                                                </div>



                                                            </button>
                                                            <button type="button"
                                                                class="btn btn-selection botao-card text-white-50"
                                                                data-jogo="Inter x Milan" data-selection="Empate"
                                                                data-pontuacao="3">


                                                                <div id="botao-jogo">
                                                                    <div class="d-flex justify-content-center">
                                                                        Empate
                                                                    </div>

                                                                    <div class="d-flex justify-content-center">
                                                                        3
                                                                    </div>
                                                                </div>




                                                            </button>
                                                            <button type="button"
                                                                class="btn btn-selection botao-card text-white-50"
                                                                data-jogo="Inter x Milan" data-selection="Fora"
                                                                data-pontuacao="5">


                                                                <div id="botao-jogo">
                                                                    <div class="d-flex justify-content-center">
                                                                        Fora
                                                                    </div>

                                                                    <div class="d-flex justify-content-center">
                                                                        5
                                                                    </div>
                                                                </div>





                                                            </button>


                                                        </div>


                                                        <div class="d-flex justify-content-between">

                                                            <div class=" mt-3">
                                                                <span class="card-text text-white-50 px-1 d-flex"
                                                                    id="select-jogador-label">Gol
                                                                </span>
                                                                <select id="select-jogador-1"
                                                                    class="form-select text-white-50">
                                                                    <option class="btn-selection" data-jogo="vazio"
                                                                        data-selection="vazio" data-pontuacao="0">
                                                                        Jogador</option>
                                                                    <optgroup label="Time 1">
                                                                        <option class="btn-selection"
                                                                            data-jogo="Inter x Milan"
                                                                            data-selection="Gol - Jogador 1 - Time 1"
                                                                            data-pontuacao="4">Jogador 1 - Time 1
                                                                        </option>
                                                                        <option class="btn-selection"
                                                                            data-jogo="Inter x Milan"
                                                                            data-selection="Gol - Jogador 2 - Time 1"
                                                                            data-pontuacao="3">Jogador 2 - Time 1
                                                                        </option>
                                                                    </optgroup>
                                                                    <optgroup label="Time 2">
                                                                        <option class="btn-selection"
                                                                            data-jogo="Inter x Milan"
                                                                            data-selection="Gol - Jogador 1 - Time 2"
                                                                            data-pontuacao="4">Jogador 1 - Time 2
                                                                        </option>
                                                                        <option class="btn-selection"
                                                                            data-jogo="Inter x Milan"
                                                                            data-selection="Gol - Jogador 2 - Time 2"
                                                                            data-pontuacao="3">Jogador 2 - Time 2
                                                                        </option>
                                                                    </optgroup>
                                                                </select>
                                                            </div>


                                                            <div class=" mt-3">
                                                                <div class="d-flex justify-content-between">
                                                                    <div></div>
                                                                    <span class="card-text text-white-50 px-1"
                                                                        id="select-jogador-label">Cartão
                                                                    </span>
                                                                </div>
                                                                <select id="select-jogador-2"
                                                                    class="form-select text-white-50">
                                                                    <option class="btn-selection" data-jogo="vazio"
                                                                        data-selection="vazio" data-pontuacao="0">
                                                                        Jogador</option>
                                                                    <optgroup label="Time 1">
                                                                        <option data-jogo="Inter x Milan"
                                                                            data-selection="Cartão - Jogador 1 - Time 1"
                                                                            data-pontuacao="4">
                                                                            Jogador 1 - Time 1
                                                                        </option>
                                                                        <option data-jogo="Inter x Milan"
                                                                            data-selection="Cartão - Jogador 2 - Time 1"
                                                                            data-pontuacao="3">
                                                                            Jogador 2 - Time 1
                                                                        </option>
                                                                    </optgroup>

                                                                    <optgroup label="Time 2">
                                                                        <option data-jogo="Inter x Milan"
                                                                            data-selection="Cartão - Jogador 1 - Time 2"
                                                                            data-pontuacao="4">
                                                                            Jogador 1 - Time 2
                                                                        </option>
                                                                        <option data-jogo="Inter x Milan"
                                                                            data-selection="Cartão - Jogador 2 - Time 2"
                                                                            data-pontuacao="3">
                                                                            Jogador 2 - Time 2
                                                                        </option>
                                                                    </optgroup>
                                                                </select>
                                                            </div>





                                                        </div>





                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class=" mb-4">
                                    <div class="container">
                                        <div class="row">
                                            <div class="">
                                                <div class="card">

                                                    <div class="card-body" id="card-jogo">
                                                        <div class="d-flex justify-content-between px-1">
                                                            <img src="escudos/logo-flamengo-256.png"
                                                                class="card-img-top" alt="Imagem do Jogo"
                                                                id="logo-time">

                                                            <h1 class="py-4 text-white-50">x</h1>

                                                            <img src="escudos/logo-fluminense-256.png"
                                                                class="card-img-top" alt="Imagem do Jogo"
                                                                id="logo-time">

                                                        </div>

                                                        <h5 class="card-title mt-1 text-white-50">Flamengo x Fluminense
                                                        </h5>
                                                        <p class="card-text text-white-50">17/05 - Brasileirão -
                                                            Maracanã
                                                        </p>



                                                        <div class="d-flex justify-content-between gap-1">


                                                            <button type="button"
                                                                class="btn btn-selection botao-card text-white-50"
                                                                data-jogo="Flamengo x Fluminense" data-selection="Casa"
                                                                data-pontuacao="5">

                                                                <div id="botao-jogo">
                                                                    <div class="d-flex justify-content-center">
                                                                        Casa
                                                                    </div>

                                                                    <div class="d-flex justify-content-center">
                                                                        5
                                                                    </div>
                                                                </div>
                                                            </button>


                                                            <button type="button"
                                                                class="btn btn-selection botao-card text-white-50"
                                                                data-jogo="Flamengo x Fluminense"
                                                                data-selection="Empate" data-pontuacao="3">


                                                                <div id="botao-jogo">
                                                                    <div class="d-flex justify-content-center">
                                                                        Empate
                                                                    </div>

                                                                    <div class="d-flex justify-content-center">
                                                                        3
                                                                    </div>
                                                                </div>
                                                            </button>


                                                            <button type="button"
                                                                class="btn btn-selection botao-card text-white-50"
                                                                data-jogo="Flamengo x Fluminense" data-selection="Fora"
                                                                data-pontuacao="5">


                                                                <div id="botao-jogo">
                                                                    <div class="d-flex justify-content-center">
                                                                        Fora
                                                                    </div>

                                                                    <div class="d-flex justify-content-center">
                                                                        5
                                                                    </div>
                                                                </div>
                                                            </button>



                                                        </div>


                                                        <div class="d-flex justify-content-between">

                                                            <div class=" mt-3">
                                                                <span class="card-text text-white-50 px-1 d-flex"
                                                                    id="select-jogador-label">Gol
                                                                </span>
                                                                <select id="select-jogador-1"
                                                                    class="form-select text-white-50">
                                                                    <option class="btn-selection" data-jogo="vazio"
                                                                        data-selection="vazio" data-pontuacao="0">
                                                                        Jogador</option>
                                                                    <optgroup label="Time 1">
                                                                        <option class="btn-selection"
                                                                            data-jogo="Flamengo x Fluminense"
                                                                            data-selection="Gol - Jogador 1 - Time 1"
                                                                            data-pontuacao="4">Jogador 1 - Time 1
                                                                        </option>
                                                                        <option class="btn-selection"
                                                                            data-jogo="Flamengo x Fluminense"
                                                                            data-selection="Gol - Jogador 2 - Time 1"
                                                                            data-pontuacao="3">Jogador 2 - Time 1
                                                                        </option>
                                                                    </optgroup>
                                                                    <optgroup label="Time 2">
                                                                        <option class="btn-selection"
                                                                            data-jogo="Flamengo x Fluminense"
                                                                            data-selection="Gol - Jogador 1 - Time 2"
                                                                            data-pontuacao="4">Jogador 1 - Time 2
                                                                        </option>
                                                                        <option class="btn-selection"
                                                                            data-jogo="Flamengo x Fluminense"
                                                                            data-selection="Gol - Jogador 2 - Time 2"
                                                                            data-pontuacao="3">Jogador 2 - Time 2
                                                                        </option>
                                                                    </optgroup>
                                                                </select>
                                                            </div>


                                                            <div class=" mt-3">
                                                                <div class="d-flex justify-content-between">
                                                                    <div></div>
                                                                    <span class="card-text text-white-50 px-1"
                                                                        id="select-jogador-label">Cartão
                                                                    </span>
                                                                </div>
                                                                <select id="select-jogador-2"
                                                                    class="form-select text-white-50">
                                                                    <option class="btn-selection" data-jogo="vazio"
                                                                        data-selection="vazio" data-pontuacao="0">
                                                                        Jogador</option>
                                                                    <optgroup label="Time 1">
                                                                        <option data-jogo="Flamengo x Fluminense"
                                                                            data-selection="Cartão - Jogador 1 - Time 1"
                                                                            data-pontuacao="4">
                                                                            Jogador 1 - Time 1
                                                                        </option>
                                                                        <option data-jogo="Flamengo x Fluminense"
                                                                            data-selection="Cartão - Jogador 2 - Time 1"
                                                                            data-pontuacao="3">
                                                                            Jogador 2 - Time 1
                                                                        </option>
                                                                    </optgroup>

                                                                    <optgroup label="Time 2">
                                                                        <option data-jogo="Flamengo x Fluminense"
                                                                            data-selection="Cartão - Jogador 1 - Time 2"
                                                                            data-pontuacao="4">
                                                                            Jogador 1 - Time 2
                                                                        </option>
                                                                        <option data-jogo="Flamengo x Fluminense"
                                                                            data-selection="Cartão - Jogador 2 - Time 2"
                                                                            data-pontuacao="3">
                                                                            Jogador 2 - Time 2
                                                                        </option>
                                                                    </optgroup>
                                                                </select>
                                                            </div>





                                                        </div>





                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>



                    </div>
                </div>
            </div>
        </div>




    </section>


    <div class="fixed-bottom" id="ficha-container">
        <div class="container col-sm-10 col-md-6 col-lg-5 col-xl-5">
            <div class="row" id="ficha-apostas" style="display: none;">
                <div class="col">
                    <div class="card ">
                        <div class="card-body">

                            <div class="container-fluid d-flex justify-content-between">
                                <span class="fw-bold card-title mb-3">Ficha de Apostas</span>


                                <button onclick="esconder()" type="button"
                                    class="btn fa-solid fa-caret-down fa-xl mb-3 px-3" id="minimizar"
                                    data-bs-toggle="collapse" data-bs-target="#selections" aria-expanded="true">
                                </button>

                                <button onclick="mostrar()" type="button"
                                    class="btn fa-solid fa-caret-up fa-xl mb-3 px-3" id="expandir"
                                    data-bs-toggle="collapse" data-bs-target="#selections" aria-expanded="false"
                                    style="display: none;">
                                </button>


                            </div>


                            <ul id="selections" class="list-group collapse show mb-3">
                                <!-- Seleções serão adicionadas aqui dinamicamente -->
                            </ul>
                            <div class="container-fluid d-flex justify-content-between align-items-center">

                                <span id="total-ficha">
                                    <span class="fw-bold">Total :</span>
                                    <span class="" id="total-pontuacao">
                                        0
                                    </span>

                                </span>

                                <button type="button" class="btn btn-success btn-outline-light fw-bold"
                                    id="botao-aposta" data-bs-toggle="modal"
                                    data-bs-target="#modal-aposta">Apostar</button>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div w3-include-html="aposta-feita-element.html"></div>
    <div w3-include-html="nav-bottom.html" class="sticky-bottom ativo-home-icon ativo-home-sub"></div>



    <script src="script.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
    <script>
        includeHTML();
    </script>




    <script>
        //evento de seleção do resultado
        var btnSelections = document.getElementsByClassName('btn-selection');
        var selectionsContainer = document.getElementById('selections');
        var fichaContainer = document.getElementById('ficha-apostas');
        var totalPontuacaoContainer = document.getElementById('total-pontuacao');
        var totalPontuacao = 0;

        var selectJogador = document.getElementById('select-jogador');
        var selectJogador2 = document.getElementById('select-jogador-2');
        var previousSelection1 = null;
        var previousSelection2 = null;


        Array.from(btnSelections).forEach(function (btn) {
            btn.addEventListener('click', function () {
                var jogo = this.getAttribute('data-jogo');
                var selecao = this.getAttribute('data-selection');
                var pontuacao = parseInt(this.getAttribute('data-pontuacao'));

                // Verificar se o botão está marcado com "btn-success"
                var isButtonSelected = this.classList.contains('btn-success');

                // Verificar se já existe uma seleção para o jogo atual e a mesma seleção dentro da ficha de apostas
                var existingSelection = Array.from(selectionsContainer.getElementsByClassName('selection')).find(function (selection) {
                    return selection.getAttribute('data-jogo') === jogo && selection.getAttribute('data-selection') === selecao;
                });

                // Remover a seleção do botão marcado com "btn-success"
                if (isButtonSelected) {
                    this.classList.remove('btn-success', 'btn-outline-light');
                    // Remover a seleção do jogo atual da ficha de apostas
                    if (existingSelection) {
                        existingSelection.remove();

                        // Atualizar somatório da pontuação
                        totalPontuacao -= pontuacao;
                        totalPontuacaoContainer.textContent = totalPontuacao;
                    }
                } else if (!existingSelection) {
                    // Remover a seleção de qualquer outro botão do mesmo jogo e mesma seleção na ficha de apostas
                    Array.from(selectionsContainer.getElementsByClassName('selection')).forEach(function (selection) {
                        var selectionJogo = selection.getAttribute('data-jogo');
                        var selectionSelecao = selection.getAttribute('data-selection');
                        if (selectionJogo === jogo && (selectionSelecao === 'Casa' || selectionSelecao === 'Fora' || selectionSelecao === 'Empate')) {
                            var selectionPontuacao = parseInt(selection.getAttribute('data-pontuacao'));
                            selection.remove();

                            // Remover as classes "btn-success" e "btn-outline-light" do botão correspondente dentro do jogo
                            var correspondingButton = Array.from(btnSelections).find(function (button) {
                                return button.getAttribute('data-jogo') === jogo && button.getAttribute('data-selection') === selectionSelecao;
                            });
                            if (correspondingButton) {
                                correspondingButton.classList.remove('btn-success', 'btn-outline-light');
                            }

                            // Atualizar somatório da pontuação
                            totalPontuacao -= selectionPontuacao;
                            totalPontuacaoContainer.textContent = totalPontuacao;
                        }
                    });

                    // Atualizar somatório da pontuação com a nova pontuação
                    totalPontuacao += pontuacao;
                    totalPontuacaoContainer.textContent = totalPontuacao;

                    // Criar elemento da seleção
                    var li = document.createElement('li');
                    li.className = 'list-group-item selection';
                    li.setAttribute('data-jogo', jogo);
                    li.setAttribute('data-selection', selecao);
                    li.setAttribute('data-pontuacao', pontuacao);
                    li.innerHTML = `
        <div class="d-flex justify-content-between" id="jogo-ficha">
          <span class="">${jogo}</span>
          <div class="d-flex">
            <div class="selection-text">
              <span>${selecao} @ ${pontuacao}</span>
            </div>
            <button type="button" class="btn btn-remove fa-solid fa-xmark" id="deletar"></button>
          </div>
        </div>
      `;

                    // Adicionar evento de remoção
                    var btnRemove = li.querySelector('.btn-remove');
                    btnRemove.addEventListener('click', function () {
                        var selectionPontuacao = parseInt(li.getAttribute('data-pontuacao'));
                        li.remove();

                        // Remover as classes "btn-success" e "btn-outline-light" do botão correspondente dentro do jogo
                        var correspondingButton = Array.from(btnSelections).find(function (button) {
                            return button.getAttribute('data-jogo') === jogo && button.getAttribute('data-selection') === selecao;
                        });
                        if (correspondingButton) {
                            correspondingButton.classList.remove('btn-success', 'btn-outline-light');
                        }

                        // Atualizar somatório da pontuação
                        totalPontuacao -= selectionPontuacao;
                        totalPontuacaoContainer.textContent = totalPontuacao;

                        // Ocultar a ficha de apostas quando não houver seleções
                        if (selectionsContainer.childElementCount === 0) {
                            fichaContainer.style.display = 'none';
                        }
                    });

                    // Adicionar seleção à ficha de apostas
                    selectionsContainer.appendChild(li);

                    // Remover as classes "btn-success" e "btn-outline-light" de todos os botões do mesmo jogo
                    Array.from(btnSelections).forEach(function (button) {
                        if (button.getAttribute('data-jogo') === jogo) {
                            button.classList.remove('btn-success', 'btn-outline-light');
                        }
                    });

                    // Adicionar as classes "btn-success" e "btn-outline-light" somente ao botão clicado
                    this.classList.add('btn-success', 'btn-outline-light');
                }

                // Exibir a ficha de apostas
                fichaContainer.style.display = selectionsContainer.childElementCount > 0 ? 'block' : 'none';
            });
        });


        // Função para adicionar a seleção na ficha de apostas
        function addSelectionToBet(jogo, selecao, pontuacao) {
            // Criar elemento da seleção





            var li = document.createElement('li');
            li.className = 'list-group-item selection';
            li.setAttribute('data-jogo', jogo);
            li.setAttribute('data-selection', selecao);
            li.setAttribute('data-pontuacao', pontuacao);
            li.innerHTML = `
    <div class="d-flex justify-content-between" id="jogo-ficha">
      <span class="">${jogo}</span>
      <div class="d-flex">
        <div class="selection-text">
          <span>${selecao} @ ${pontuacao}</span>
        </div>
        <button type="button" class="btn btn-remove fa-solid fa-xmark" id="deletar"></button>
      </div>
    </div>
  `;

            // Adicionar evento de remoção
            var btnRemove = li.querySelector('.btn-remove');
            btnRemove.addEventListener('click', function () {



                var selectionPontuacao = parseInt(li.getAttribute('data-pontuacao'));
                li.remove();




                // Atualizar somatório da pontuação
                totalPontuacao -= selectionPontuacao;
                totalPontuacaoContainer.textContent = totalPontuacao;

                // Ocultar a ficha de apostas quando não houver seleções
                if (selectionsContainer.childElementCount === 0) {
                    fichaContainer.style.display = 'none';
                }

            });

            // Adicionar seleção à ficha de apostas
            selectionsContainer.appendChild(li);

            // Atualizar somatório da pontuação
            totalPontuacao += pontuacao;
            totalPontuacaoContainer.textContent = totalPontuacao;

            // Exibir a ficha de apostas
            fichaContainer.style.display = 'block';
        }

        // Função para remover a seleção da ficha de apostas
        function removeSelectionFromBet(selection) {
            var selectionPontuacao = parseInt(selection.getAttribute('data-pontuacao'));
            selection.remove();

            // Atualizar somatório da pontuação
            totalPontuacao -= selectionPontuacao;
            totalPontuacaoContainer.textContent = totalPontuacao;

            // Ocultar a ficha de apostas quando não houver seleções
            if (selectionsContainer.childElementCount === 0) {
                fichaContainer.style.display = 'none';
            }
        }

        // Evento de seleção de jogadores 1
        var selectJogador1Elements = document.querySelectorAll('[id^="select-jogador-1"]');
        var previousSelection1 = {};

        selectJogador1Elements.forEach(function (select) {
            select.addEventListener('change', function () {
                var selectedOption = this.options[this.selectedIndex];
                var jogo = selectedOption.getAttribute('data-jogo');
                var selecao = selectedOption.getAttribute('data-selection');
                var pontuacao = parseInt(selectedOption.getAttribute('data-pontuacao'));

                // Remover a seleção anterior da ficha de apostas, se não for "vazio"
                if (previousSelection1[jogo] && previousSelection1[jogo] !== 'vazio') {
                    var existingSelection = Array.from(selectionsContainer.getElementsByClassName('selection')).find(function (selection) {
                        return selection.getAttribute('data-jogo') === jogo && selection.getAttribute('data-selection') === previousSelection1[jogo];
                    });
                    if (existingSelection) {
                        removeSelectionFromBet(existingSelection);
                    }
                }

                // Adicionar a nova seleção à ficha de apostas, se não for "vazio"
                if (selecao !== 'vazio') {
                    addSelectionToBet(jogo, selecao, pontuacao);
                }

                // Atualizar a seleção anterior
                previousSelection1[jogo] = selecao;
            });
        });

        // Eventos de seleção de jogadores 2
        var selectJogador2Elements = document.querySelectorAll('[id^="select-jogador-2"]');
        var previousSelection2 = {};

        selectJogador2Elements.forEach(function (select) {
            select.addEventListener('change', function () {
                var selectedOption = this.options[this.selectedIndex];
                var jogo = selectedOption.getAttribute('data-jogo');
                var selecao = selectedOption.getAttribute('data-selection');
                var pontuacao = parseInt(selectedOption.getAttribute('data-pontuacao'));

                // Remover a seleção anterior da ficha de apostas, se não for "vazio"
                if (previousSelection2[jogo] && previousSelection2[jogo] !== 'vazio') {
                    var existingSelection = Array.from(selectionsContainer.getElementsByClassName('selection')).find(function (selection) {
                        return selection.getAttribute('data-jogo') === jogo && selection.getAttribute('data-selection') === previousSelection2[jogo];
                    });
                    if (existingSelection) {
                        removeSelectionFromBet(existingSelection);
                    }
                }

                // Adicionar a nova seleção à ficha de apostas, se não for "vazio"
                if (selecao !== 'vazio') {
                    addSelectionToBet(jogo, selecao, pontuacao);
                }

                // Atualizar a seleção anterior
                previousSelection2[jogo] = selecao;
            });
        });


        var btnAposta = document.getElementById('botao-aposta');

        btnAposta.addEventListener('click', function () {
            // Remover todas as seleções da ficha de apostas
            Array.from(selectionsContainer.getElementsByClassName('selection')).forEach(function (selection) {
                var selectionPontuacao = parseInt(selection.getAttribute('data-pontuacao'));
                selection.remove();

                // Atualizar somatório da pontuação
                totalPontuacao -= selectionPontuacao;
            });

            // Zerar a pontuação total
            totalPontuacao = 0;

            // Atualizar o valor da pontuação total na interface
            totalPontuacaoContainer.textContent = totalPontuacao;

            // Ocultar a ficha de apostas
            fichaContainer.style.display = 'none';

            // Remover as classes "btn-success" e "btn-outline-light" de todos os botões de seleção
            Array.from(btnSelections).forEach(function (button) {
                button.classList.remove('btn-success', 'btn-outline-light');
            });

            // Resetar a seleção anterior
            var previousSelection1 = null;
            var previousSelection2 = null;


            // Selecionar a opção com data-jogo igual a "vazio" nos dois selects
            // Selecionar a opção com data-jogo igual a "vazio" em todas as ocorrências dos selects
            var selectsJogador1 = document.querySelectorAll('[id^="select-jogador-1"]');
            var selectsJogador2 = document.querySelectorAll('[id^="select-jogador-2"]');

            selectsJogador1.forEach(function (select) {
                select.querySelector('option[data-selection="vazio"]').selected = true;
            });

            selectsJogador2.forEach(function (select) {
                select.querySelector('option[data-selection="vazio"]').selected = true;
            });



        });
    </script>



















</body>



</html>